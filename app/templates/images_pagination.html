<!-- extend from base layout -->
{% extends "base.html" %}
{% block content %}
    <table class="table table-striped table-hover" contenteditable="true">
      <thead>
        <tr>
          <th>图片ID</th>
          <th>图片地址</th>
        </tr>
      </thead>
      <tbody>
        {% for item in images %}
        <tr>
          <td>{{ item.image_id }}</td>
          <td>{{ item.image_url }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <ul class="pagination">

{#      <li class="active"><a href="#">1</a>#}
{#      </li>#}

{#      <li>#}
{#      {% if pagination.has_prev %}#}
{#        <a href="/get_image_url?page={{ pagination.prev_num }}">&laquo;</a>#}
{#      {% endif %}#}
{#      </li>#}
{##}
{#      {% for i in range(total): %}#}
{#          <li><a href="/get_image_url?page={{ i+1 }}">{{ i+1 }}</a> </li>#}
{#      {% endfor %}#}
{##}
{#      <li>#}
{#      {% if pagination.has_next %}#}
{#        <a href="/get_image_url?page={{ pagination.next_num }}">&raquo;</a>#}
{#      {% endif %}#}
{#      </li>#}



      {% for i in pagination.iter_pages(left_edge=4,left_current=4,right_current=4,right_edge=1) %}
          <li><a href="/get_image_url?page={{ i }}">{{ i }}</a> </li>
      {% endfor %}
    </ul>
{% endblock %}


{#路由代码#}

{#@app.route('/get_image_url',methods=['GET'])#}
{#def get_image_url():#}
{#    page = request.args.get('page','1')  # 获取页码#}
{#    if page == 'None':#}
{#        page = '1'#}
{#    pagination = Image_url.query.paginate(int(page), config.PER_PAGE, False)#}
{#    images = pagination.items#}
{##}
{#    total=pagination.total #数据总条数#}
{#    total=total/config.PER_PAGE   #页数的定义#}
{#    total=int(math.ceil(total))#取整进一#}
{#    return render_template('images.html',images = images, pagination = pagination ,total = total)#}
{#    ##}
{#    # slice = random.sample(images,1)#}
{#    # return ''.join(str(e) for e in slice)#}
{#    # return  json.dumps(slice[0].image_url)#}
{#    # return jsonify(slice[0].image_url)#}